<div class="recipe-container">

  <div class="recipe">
    <div class="p-grid">

      <div class="p-col-12 p-md-6 p-lg-4">
        <!-- <p-confirmPopup></p-confirmPopup> -->
        <button (click)="deleteRecipe($event)"  mat-flat-button color="danger" label="Delete" class="button-danger">Delete</button>
        <button (click)="editRecipe()"  mat-flat-button color="primary" label="Edit" >Edit</button>
      </div>

      <div class="p-col-12 p-md-6 p-lg-4">
        <h2>{{ recipe.name }}</h2>
      </div>
      <div class="p-col-12 p-md-6 p-lg-4">
        <div class="image-container">
          <img [src]="recipe.imageUrl" alt="Recipe Image" class="recipe-image" />
        </div>
      </div>
      <div class="p-col-12 p-md-6 p-lg-4">
        <div class="recipe-details">
          <div class="category">Category: {{ recipe.category.name }}</div>
          <h3>Ingredients:</h3>
          <ul class="ingredients">
            <li *ngFor="let ingredient of recipe.ingredients">
              <h2>{{ ingredient.description }}</h2>
            </li>
          </ul>
          <h3>Steps:</h3>
          <div class="stepNo" *ngFor="let step of recipe.steps;index as i">
            <!-- <p-panel  header="Step {{i+1}}"> -->
              {{ step.description }}
            <!-- </p-panel> -->
          </div>
        </div>
      </div>

      <h3 style="padding: 10px; margin: 5px;" >Rates and reviews</h3>

      <div class="container">
  <div class="row">
    <div class="col-md-12">
      <div *ngFor="let review of recipe.reviews" class="comment-section" style="padding: 10px; margin: 5px;">
        <div style="display: flex; align-items: center;">
          <img src="https://pub-static.fotor.com/assets/projects/pages/ed2f505cd64d46ffbb43c2b4d65cfaf3/600w/fotor-5965bfe16a014c9f81a074bbe55a0244.jpg"
            class="rounded-circle" style="width: 70px;" alt="Avatar" />
          <p style="margin-left: 10px; padding: 10px; text-align: center; font-weight: bold;">Mousa soliman</p>
          
        </div>
        <div class="flip-stars">
          <ngx-star-rating [disabled]="true" class="small-stars" [(ngModel)]="review.rate" [id]="'recipe-rating'"></ngx-star-rating>
        </div>
        <br>
        <textarea [disabled]="true" [(ngModel)]="review.content" class="comment-input" placeholder="Write your comment here..."></textarea>
      </div>
    </div>
  </div>
</div>

      

      <div class="container" style="margin-top: 50px;">
        <div class="row">
            <div class="col-md-12">
                <div class="comment-section">
                    <h3 (click)="reset()">Rate and comment</h3>
                    <div class="rating-label" (click)="reset()">Rate:</div>
                    <div class="flip-stars"><ngx-star-rating [(ngModel)]="rating" [id]="'rating'"></ngx-star-rating></div>
                    <br>
                    <textarea [(ngModel)]="comment" class="comment-input star-hover" placeholder="Write your comment here..." ></textarea>
                    <div class="submit-button">
                        <button class="btn btn-primary submit-button" (click)="addReview()">Submit</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    </div>
  </div>
</div>
